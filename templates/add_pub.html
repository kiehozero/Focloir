{% extends "main.html" %}

    <!-- Template for adding a pub to the site -->

    {% block title %}
        Add a Pub
    {% endblock %}

    {% block content %}
        
        {% if session.user %}

            <div class="row center-align">
                <!-- Bug fix #7: icon centring-->
                <h4 class="d-brown">Add a pub</h4>
            </div>

                <!-- form template taken from Materialize website-->
                 
                <div class="row container">
                    <form class="col s12 m10 offset-m1" method="POST" action="{{ url_for('add_pub') }}">

                        <!-- All of the below categories need additional validation to ensure 
                        that no blanks can be entered -->

                        <!-- Pub Name (Mandatory) -->
                        <div class="row">
                            <div class="input-field col s10 offset-s1">
                                <i class="fas fa-sign prefix d-brown"></i>
                                <input id="pname" name="pname" type="text" class="validate" required>
                                <label for="pname">Pub Name</label>
                            </div>
                        </div>

                        <!-- Street Name (Mandatory) -->
                        <div class="row">
                            <div class="input-field col s10 offset-s1">
                                <i class="fas fa-road prefix d-brown"></i>
                                <input id="loc" name="loc" type="text" class="validate" required>
                                <label for="loc">Street</label>
                            </div>
                        </div>

                        <!-- City (Mandatory) -->
                        <div class="row">
                            
                            <div class="input-field col s10 offset-s1">
                                <i class="fas fa-city prefix d-brown"></i>
                                <input id="city" name="city" type="text" class="validate" required>
                                <label for="city">Town/City</label>
                            </div>
                        </div>

                        <!-- County (Optional) -->
                        <div class="row">
                            <div class="input-field col s10 offset-s1">
                                <i class="fas fa-map-marker-alt prefix d-brown"></i>
                                <input id="state" name="state" type="text" class="validate">
                                <label for="state">State (Optional)</label>
                            </div>
                        </div>

                        <!-- Country (Mandatory) -->
                        <div class="row">
                            <div class="input-field col s10 offset-s1">
                                <i class="fas fa-flag prefix d-brown"></i>
                                <select id="country" name="country" required>
                                    <option disabled selected>Choose your option</option>
                                    {% for country in countries %}
                                        <option value="{{ country.name }}">{{ country.name }}</option>
                                    {% endfor %}
                                </select>
                                <label>Country</label>
                            </div>
                        </div>

                        <!-- Photo URL (Optional) -->
                        <div class="row">
                            <div class="input-field col s10 offset-s1">
                                <i class="far fa-image prefix d-brown"></i>
                                <input id="photo" name="photo" type="url" class="validate">
                                <label for="photo">Photograph URL (Optional)</label>
                            </div>
                        </div>

                        <!-- Submit Button -->
                        <div class="row">
                            <div class="card-action center-align">
                                <button class="btn-large waves-effect waves-yellow pb-button" type="submit" name="action">
                                    Add this pub!
                                </button>
                            </div>
                        </div>

                    </form>
                </div>

        {% else %}

            
            <div class="center-align">
                <a class="d-brown" href="{{ url_for('register') }}">New to Pintbaby? Register here!</a>
            </div>

        {% endif %}

    {% endblock %}