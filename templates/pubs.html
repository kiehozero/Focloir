{% extends "main.html" %}

    {% block content %}

        <div class="row center-align">
            <h4>Select a pub to add or read reviews</h4>

            <form>
                <div class="input-field col s10 m6 offset-s1 offset-m3">
                    
                    <input id="search" type="search" required>
                    <label class="label-icon" for="search">
                        <i class="fas fa-search right"></i>
                    </label>
                </div>
            </form>
        </div>

        <div class="row">

            <div class="col s6 m3">
                    <div class="card">
                        <div class="card-image">
                        <img src="{{ url_for('static', filename='images/pintbaby-bg.png') }}">
                        <span class="card-title">Add review</span>
                        <a 
                            class="btn-floating halfway-fab waves-effect waves-light right"
                            href="{{ url_for('add_review') }}">
                            <i class="fas fa-pen-nib"></i>
                        </a>
                        </div>
                        <div class="card-content spectral">
                        <p>
                            Click the button to submit a review
                        </p>
                        </div>
                    </div>
                </div>

            {% for pub in pubs %}
                <div class="col s6 m3">
                    <div class="card">
                        <div class="card-image">
                        <img src="{{ url_for('static', filename='images/pintbaby-bg.png') }}">
                        <span class="card-title">{{ pub.pname }}</span>
                        <a
                            class="btn-floating halfway-fab waves-effect waves-light left"
                            href="{{ url_for('add_review') }}">
                            <!--paramter above needs to be pub id-->
                            <!-- generate link here from pub id, a new template of the add_review that is pre-filled? -->
                            <div 
                                style="font-family: 'Fraunces'; font-weight: 600; font-size: 20px; text-align: center;">
                                <i class="fas fa-pen-nib"></i>
                            </div>
                        </a>
                        <a
                            class="btn-floating halfway-fab waves-effect waves-light"
                            href="{{ url_for('view_pub', pub_id = pub._id) }}">
                            <!--parameter above needs to be pub id-->
                            <i class="fas fa-book-open"></i>
                        </a>
                        </div>
                        <div class="card-content spectral">
                        <p>
                            {{ pub.city }}
                            <br>
                            {{ pub.country }}
                            <br>
                        </p>
                        </div>

                        {% if session.user == "pbadmin" %}
                            <!-- edit button that contains additional user form option for user, this 
                            will need to be pre-filled with the original editor's username so it isn't 
                            overwritten with the admin's name -->
                            <!-- below will need to be a new admin_edit_pub function-->
                            <div class="center-align">
                                <a 
                                    class="btn review-card-button"
                                    href="#">
                                    Edit
                                </a>
                            </div>
                            <!-- styling in some margin bottom padding -->
                        {% endif %}

                    </div>
                </div>
            {% endfor %}

        </div>

    {% endblock %}